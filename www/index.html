<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<!--<meta name="format-detection" content="telephone=no" />-->
		<!-- WARNING: for iOS 7, remove the width=device-width and height=device-height attributes. See https://issues.apache.org/jira/browse/CB-4323 -->
		<meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no, width=device-width">
		<title>lightController app</title>
		<script src="phonegap.js"></script>

		<!--weinre-->
		<script>
			window.WeinreServerURL="http://198.199.118.235:8081";
		</script>
		<script src="js/target-script-min.js#phonegapDemo"></script>

		<!--ionic framework-->
		<script type="text/javascript" src="lib/ionic/js/ionic.bundle.js"></script>
		<link rel="stylesheet" type="text/css" href="lib/ionic/css/ionic.css" />


		<!--ionicicons-->
        <link rel="stylesheet" href="lib/ionic/css/ionicons.min.css" />

		<!--app.js-->
		<script src="js/app.js"></script>


	</head>
	<body ng-app="lightController" ng-controller="LightControllerCtrl" >
	  <ion-side-menus>

	    <!-- Center content -->
	    <ion-side-menu-content>
	      <ion-header-bar class="bar-dark">
			  <button class="button button-icon" ng-click="toggleAreas()">
				  <i class="icon ion-navicon"></i>
			  </button>
			  <h1 class="title">{{activeArea.name}}</h1>
			  <!-- New Light button-->
			  <button class="button button-icon" ng-click="newLight()">
				  <i class="icon ion-compose"></i>
			  </button>
	      </ion-header-bar>
	      <ion-content scroll="false">
              <div class="list list-inset">
                  <label class="item item-input item-select">
                      <i class="icon ion-search placeholder-icon"></i>
                      <input type="text" ng-model="query" placeholder="Search">
                      <select ng-model="orderProp">
                        <option value="name">Alphabetical</option>
                        <option value="-addTime">Newest</option>
                      </select>
                  </label>
              </div>
		  	<ion-list>
				<ion-item ng-repeat="light in activeArea.lights | filter:query | orderBy:orderProp">
					<div class="row">
                        <div class="col">{{light.name}}</div>
                        <div class="col col-offset-80">{{light.addTime}}</div>
                    </div>
				</ion-item>
			</ion-list>
	      </ion-content>
	    </ion-side-menu-content>

	    <!-- Left menu -->
	    <ion-side-menu side="left">
	      <ion-header-bar class="bar-dark">
			  <button class="button button-icon" ng-click="isClearDatas()">
				  <i class="icon ion-trash-b"></i>
				  clearDatas
			  </button>
			  <h1 class="title">Areas</h1>
			  <button class="button button-icon ion-plus" ng-click="newArea()">
			  </button>
	      </ion-header-bar>
	      <ion-content scroll="false">
			<!-- list and list items -->
		    <ion-list>
		      <ion-item ng-repeat="area in areas" ng-click="selectArea(area,$index)" ng-class="{active:activeArea == area}">
		        {{area.name}}
		      </ion-item>
		    </ion-list>
	      </ion-content>
	    </ion-side-menu>
	  </ion-side-menus>

	  <script id="new-area.html" type="text/ng-template">

	    <div class="modal">

	      <!-- Modal header bar -->
	      <ion-header-bar class="bar-secondary">
	        <h1 class="title">New area</h1>
	        <button class="button button-clear button-positive" ng-click="closeNewArea()">Cancel</button>
	      </ion-header-bar>

	      <!-- Modal content area -->
	      <ion-content>

	        <form ng-submit="createArea(area)">
	          <div class="list">
	            <label class="item item-input">
	              <input type="text" placeholder="What area do you want to add?" ng-model="area.name">
	            </label>
	          </div>
	          <div class="padding">
	            <button type="submit" class="button button-block button-positive">Create Area</button>
	          </div>
	        </form>

	      </ion-content>

	    </div>

	  </script>

	  <script id="new-light.html" type="text/ng-template">

	    <div class="modal">

	      <!-- Modal header bar -->
	      <ion-header-bar class="bar-secondary">
	        <h1 class="title">New light</h1>
	        <button class="button button-clear button-positive" ng-click="closeNewLight()">Cancel</button>
	      </ion-header-bar>

	      <!-- Modal content area -->
	      <ion-content>

	        <form ng-submit="createLight(light)">
	          <div class="list">
	            <label class="item item-input">
	              <input type="text" placeholder="What light do you want to add?" ng-model="light.name">
	            </label>
	          </div>
	          <div class="padding">
	            <button type="submit" class="button button-block button-positive">Create Light</button>
	          </div>
	        </form>

	      </ion-content>

	    </div>

	  </script>

	  <a href="index_jquery+angularjs.html">index_jquery+angularjs</a>

	 </body>
 </html>
